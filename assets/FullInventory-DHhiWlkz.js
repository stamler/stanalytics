import{_ as V,O as w}from"./SizeWarning.vue_vue_type_script_setup_true_lang-3JY7Zej9.js";import{d as x,u as S,s as C,r as e,w as _,c as T,a as c,q as h,t as j,k as l,F as k,h as O,i as F,o as A}from"./index-BAAfU4mb.js";import{_ as B,c as f}from"./RefreshButton.vue_vue_type_script_setup_true_lang-BZ1PaPHp.js";import"./_commonjsHelpers-Cpj98o6Y.js";const N={class:"bg-neutral-700 p-4 text-2xl font-bold text-neutral-300"},$={class:"bg-neutral-100"},I={class:"flex w-screen flex-wrap gap-1 p-2 md:w-full"},E=x({__name:"FullInventory",props:{rpcArgs:{type:Object,required:!1},name:{type:String,required:!0},objectTableProps:{type:Object,default:()=>({})}},setup(v){const b=S(),{preferences:i}=C(b),d=v,t=e("All Suppliers"),p=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],y=e(p),g=e(p),s=e(""),o=e([]),n=e(!1),D=O(),r=e(!0);_([t,s,y,g,D],()=>{r.value=!0}),_(i,()=>{t.value=i.value.defaultSupplier||""},{immediate:!0});async function q(){n.value=!0;const m=F.from("sqdc_inventory_daily").select("brand, name, sku, price, store, location:store_name, type:product_type, date, quantity, value").gt("quantity",0).eq("supplier",t.value).eq("date",s.value),{data:a}=await m;o.value=a||[],n.value=!1,r.value=!1}return(m,a)=>(A(),T(k,null,[c("h1",N,[h(j(d.name)+" ",1),l(V,{tableData:o.value},null,8,["tableData"])]),c("div",$,[c("div",I,[l(B,{onClick:q,loading:n.value,dirty:r.value},null,8,["loading","dirty"]),l(f,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=u=>t.value=u),table:"sqdc_suppliers",name_col:"supplier",value_col:"supplier"},null,8,["modelValue"]),l(f,{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=u=>s.value=u),table:"sqdc_inventory_daily_dates",name_col:"date",value_col:"date"},null,8,["modelValue"])]),l(w,{class:"md:p-2",tableData:o.value,tableConfig:{columnFormatters:{value:"dollars",price:"dollars"},omitColumns:d.objectTableProps.omitCols||[]}},null,8,["tableData","tableConfig"])])],64))}});export{E as default};
