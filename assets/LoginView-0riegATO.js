import{d as y,r,u as _,s as k,w as L,c as V,a as t,b as c,v as m,e as p,t as f,f as b,g as j,h as A,o as B,i as F}from"./index-BR78qFT1.js";const P={class:"flex flex-col items-center justify-center md:h-screen lg:py-0"},R=t("h1",null,"Log In",-1),S={class:"flex flex-col"},q={class:"flex items-center justify-between"},C=["disabled"],D={class:"mt-4"},E={class:"text-red-500"},U=y({__name:"LoginView",setup(M){const a=r(""),n=r(""),i=_(),{isAuthenticated:g,loading:u}=k(i),v=j(),h=A(),l=r("");L(g,s=>{var e;s===!0&&(console.log("Already authenticated, redirecting..."),v.push(((e=h.redirectedFrom)==null?void 0:e.path)||"/"))},{immediate:!0});const w=async function(){const{data:s,error:e}=await F.auth.resetPasswordForEmail(a.value);if(e!==null){l.value=e.message;return}console.log(s)},x=async function(s,e){const{data:o,error:d}=await i.login(s,e);if(d!==null){l.value=d.message;return}console.log(o)};return(s,e)=>(B(),V("div",P,[t("form",{class:"mx-auto flex flex-col items-center justify-center rounded-md bg-white p-4",onSubmit:e[2]||(e[2]=b(o=>x(a.value,n.value),["prevent"]))},[t("div",null,[R,t("div",S,[c(t("input",{class:"my-2 rounded-md border border-gray-200 p-2",required:"",type:"email",placeholder:"email","onUpdate:modelValue":e[0]||(e[0]=o=>a.value=o)},null,512),[[m,a.value]]),c(t("input",{class:"my-2 rounded-md border border-gray-200 p-2",required:"",type:"password",placeholder:"password","onUpdate:modelValue":e[1]||(e[1]=o=>n.value=o)},null,512),[[m,n.value]])]),t("div",q,[t("button",{class:"focus:shadow-outline my-2 rounded bg-blue-500 px-5 py-1 font-bold text-white hover:bg-blue-700 focus:outline-none",type:"submit",disabled:p(u)},f(p(u)?"Loading":"Login"),9,C),t("button",{class:"inline-block align-baseline text-sm font-bold text-blue-500 hover:text-blue-800",onClick:b(w,["prevent"])}," Forgot Password? ")]),t("div",D,[t("span",E,f(l.value),1)])])],32)]))}});export{U as default};
