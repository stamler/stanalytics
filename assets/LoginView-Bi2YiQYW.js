import{d as f,r,u as h,s as g,w,c as _,a as t,b as d,v as p,e as l,f as b,g as y,h as V,o as x}from"./index-JEsra2oL.js";const A=t("h1",null,"Log In",-1),B=["value","disabled"],k=f({__name:"LoginView",setup(L){const a=r(""),s=r(""),u=h(),{isAuthenticated:m,loading:n}=g(u),v=y(),c=V();return w(m,i=>{var e;i===!0&&(console.log("Already authenticated, redirecting..."),v.push(((e=c.redirectedFrom)==null?void 0:e.path)||"/"))},{immediate:!0}),(i,e)=>(x(),_("form",{onSubmit:e[2]||(e[2]=b(o=>l(u).login(a.value,s.value),["prevent"]))},[t("div",null,[A,t("div",null,[d(t("input",{required:"",type:"email",placeholder:"Your email","onUpdate:modelValue":e[0]||(e[0]=o=>a.value=o)},null,512),[[p,a.value]]),d(t("input",{required:"",type:"password",placeholder:"Your email","onUpdate:modelValue":e[1]||(e[1]=o=>s.value=o)},null,512),[[p,s.value]])]),t("div",null,[t("input",{type:"submit",value:l(n)?"Loading":"login",disabled:l(n)},null,8,B)])])],32))}});export{k as default};
