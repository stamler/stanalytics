import{_ as V,O as x}from"./SizeWarning.vue_vue_type_script_setup_true_lang-3JY7Zej9.js";import{d as k,r as e,w as C,c as q,a as i,q as O,t as S,k as o,F as T,h,i as j,o as B}from"./index-BAAfU4mb.js";import{_ as F,c as _}from"./RefreshButton.vue_vue_type_script_setup_true_lang-BZ1PaPHp.js";import"./_commonjsHelpers-Cpj98o6Y.js";const N={class:"bg-neutral-700 p-4 text-2xl font-bold text-neutral-300"},P={class:"bg-neutral-100"},$={class:"flex w-screen flex-wrap gap-1 p-2 md:w-full"},R=k({__name:"OverviewPerformance",props:{objectTableProps:{type:Object,default:()=>({})},name:{type:String,required:!0},db_function:{type:null,required:!0},stride:{type:String}},setup(p){const a=p,m=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],v=e(""),f=e(""),b=e(""),y=e(""),g=e(""),s=e(m),n=e(m),r=e([]),u=e(!1),D=h(),d=e(!0);C([v,f,b,y,g,s,n,D],()=>{d.value=!0});async function w(){u.value=!0;const c={_start_date:s.value,_end_date:n.value};a.stride&&(c._stride=a.stride);const t=j.rpc(a.db_function,c),{data:l}=await t;r.value=l||[],u.value=!1,d.value=!1}return(c,t)=>(B(),q(T,null,[i("h1",N,[O(S(a.name)+" ",1),o(V,{tableData:r.value},null,8,["tableData"])]),i("div",P,[i("div",$,[o(F,{onClick:w,loading:u.value,dirty:d.value},null,8,["loading","dirty"]),o(_,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value=l),table:"sqdc_inventory_movements_dates",name_col:"date",value_col:"date"},null,8,["modelValue"]),o(_,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=l=>n.value=l),table:"sqdc_inventory_movements_dates",name_col:"date",value_col:"date"},null,8,["modelValue"])]),o(x,{class:"md:p-2",tableData:r.value,tableConfig:{columnFormatters:{market_share:"percent",value_out:"dollars",value_in:"dollars",total_out:"dollars"},omitColumns:a.objectTableProps.omitCols||[]}},null,8,["tableData","tableConfig"])])],64))}});export{R as default};
