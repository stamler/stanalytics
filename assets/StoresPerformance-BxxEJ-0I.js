import{_ as v,O as x,r as k,L as D}from"./SelectFilter.vue_vue_type_script_setup_true_lang-B9Hb-Gvw.js";import{d as V,r as e,w as C,c as d,a as o,t as h,n as S,k as t,e as j,F as O,h as T,i as q,o as c}from"./index-DOqny7ut.js";import"./_commonjsHelpers-Cpj98o6Y.js";const B={class:"bg-neutral-700 p-4 text-2xl font-bold text-neutral-300"},F={class:"bg-neutral-100"},P={class:"flex w-screen flex-wrap p-2 md:w-full"},L={key:1,class:"inline-block w-5"},z=V({__name:"StoresPerformance",props:{objectTableProps:{type:Object,default:()=>({})},name:{type:String,required:!0}},setup(b){const m=b,i=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],f=e(""),y=e(""),l=e(i),s=e(i),p=e([]),n=e(!1),g=T(),r=e(!0);C([f,l,s,g,y],()=>{r.value=!0});async function w(){n.value=!0;const _=q.rpc("stores_performance",{_start_date:l.value,_end_date:s.value}),{data:a}=await _;p.value=a||[],n.value=!1,r.value=!1}return(_,a)=>(c(),d(O,null,[o("h1",B,h(m.name),1),o("div",F,[o("div",P,[o("span",{class:S([r.value?"bg-yellow-200 hover:bg-yellow-300":"","m-1 flex rounded-sm px-2 py-1"])},[n.value===!1?(c(),d("button",{key:0,class:"inline-block w-5 underline",onClick:w},[t(j(k))])):(c(),d("span",L,[t(D)]))],2),t(v,{class:"m-1 rounded-sm px-2 py-1",modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=u=>l.value=u),table:"sqdc_inventory_movements_dates",name_col:"date",value_col:"date"},null,8,["modelValue"]),t(v,{class:"m-1 rounded-sm px-2 py-1",modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=u=>s.value=u),table:"sqdc_inventory_movements_dates",name_col:"date",value_col:"date"},null,8,["modelValue"])]),t(x,{class:"md:p-2",tableData:p.value,tableConfig:{columnFormatters:{market_share:"percent",value_out:"dollars",value_in:"dollars",total_out_of_type:"dollars"},omitColumns:m.objectTableProps.omitCols||[]}},null,8,["tableData","tableConfig"])])],64))}});export{z as default};
