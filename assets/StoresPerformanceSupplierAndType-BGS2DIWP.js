import{_ as g,O as D}from"./SizeWarning.vue_vue_type_script_setup_true_lang-3JY7Zej9.js";import{d as w,r as a,w as x,c as q,a as m,q as C,t as S,k as l,F as T,h as k,i as j,o as O}from"./index-BAAfU4mb.js";import{_ as U,c as r}from"./RefreshButton.vue_vue_type_script_setup_true_lang-BZ1PaPHp.js";import"./_commonjsHelpers-Cpj98o6Y.js";const B={class:"bg-neutral-700 p-4 text-2xl font-bold text-neutral-300"},F={class:"bg-neutral-100"},N={class:"flex w-screen flex-wrap gap-1 p-2 md:w-full"},E=w({__name:"StoresPerformanceSupplierAndType",props:{objectTableProps:{type:Object,default:()=>({})},name:{type:String,required:!0}},setup(b){const i=b,_=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],f=a(""),o=a(""),s=a(""),n=a(_),u=a(_),d=a([]),p=a(!1),y=k(),c=a(!0);x([o,n,u,y,s,f],()=>{c.value=!0});async function V(){p.value=!0;const v=j.rpc("stores_performance_supplier_and_type",{_supplier:o.value,_type:s.value,_start_date:n.value,_end_date:u.value}),{data:e}=await v;d.value=e||[],p.value=!1,c.value=!1}return(v,e)=>(O(),q(T,null,[m("h1",B,[C(S(i.name)+" ",1),l(g,{tableData:d.value},null,8,["tableData"])]),m("div",F,[m("div",N,[l(U,{onClick:V,loading:p.value,dirty:c.value},null,8,["loading","dirty"]),l(r,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),table:"sqdc_suppliers",name_col:"supplier",value_col:"supplier"},null,8,["modelValue"]),l(r,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value=t),table:"sqdc_product_types",name_col:"type",value_col:"type"},null,8,["modelValue"]),l(r,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=t=>n.value=t),table:"sqdc_inventory_movements_dates",name_col:"date",value_col:"date"},null,8,["modelValue"]),l(r,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=t=>u.value=t),table:"sqdc_inventory_movements_dates",name_col:"date",value_col:"date"},null,8,["modelValue"])]),l(D,{class:"md:p-2",tableData:d.value,tableConfig:{columnFormatters:{market_share:"percent",value_out:"dollars",value_in:"dollars",total_out:"dollars"},omitColumns:i.objectTableProps.omitCols||[]}},null,8,["tableData","tableConfig"])])],64))}});export{E as default};
