import{_ as c,O as x,r as V,L as D}from"./SelectFilter.vue_vue_type_script_setup_true_lang-8sdsFfTT.js";import{d as k,r as a,w as C,c as i,a as r,t as j,n as q,k as l,e as O,F as S,h as A,i as T,o as m}from"./index-nGNKtJAK.js";import"./_commonjsHelpers-Cpj98o6Y.js";const U={class:"bg-neutral-700 p-4 text-2xl font-bold text-neutral-300"},h={class:"bg-neutral-100"},B={class:"flex w-screen flex-wrap p-2 md:w-full"},F={key:1,class:"inline-block w-5"},Q=k({__name:"UniversalReport",props:{rpcArgs:{type:Object,required:!1},name:{type:String,required:!0},objectTableProps:{type:Object,default:()=>({})}},setup(f){const u=f,s=a("All Suppliers"),v=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],o=a(v),n=a(v),y=a(""),_=a([]),d=a(!1),g=A(),p=a(!0);C([s,y,o,n,g],()=>{p.value=!0});async function w(){d.value=!0;const b=T.rpc("get_movements",{...u.rpcArgs,_supplier:s.value,_start_date:o.value,_end_date:n.value}),{data:e}=await b;_.value=e||[],d.value=!1,p.value=!1}return(b,e)=>(m(),i(S,null,[r("h1",U,j(u.name),1),r("div",h,[r("div",B,[r("span",{class:q([p.value?"bg-yellow-200 hover:bg-yellow-300":"","m-1 flex rounded-sm px-2 py-1"])},[d.value===!1?(m(),i("button",{key:0,class:"inline-block w-5 underline",onClick:w},[l(O(V))])):(m(),i("span",F,[l(D)]))],2),l(c,{class:"m-1 rounded-sm px-2 py-1",modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t),table:"sqdc_suppliers",name_col:"supplier",value_col:"supplier"},null,8,["modelValue"]),l(c,{class:"m-1 rounded-sm px-2 py-1",modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=t=>o.value=t),table:"sqdc_inventory_movements_dates",name_col:"date",value_col:"date"},null,8,["modelValue"]),l(c,{class:"m-1 rounded-sm px-2 py-1",modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=t=>n.value=t),table:"sqdc_inventory_movements_dates",name_col:"date",value_col:"date"},null,8,["modelValue"])]),l(x,{class:"md:p-2",tableData:_.value,tableConfig:{columnFormatters:{value:"dollars",price:"dollars"},omitColumns:u.objectTableProps.omitCols||[]}},null,8,["tableData","tableConfig"])])],64))}});export{Q as default};
